# Detective Sigma - Environment Variables Template
# Copy this to .env.local for local development

# ============= DATABASE (Vercel Postgres) =============
# After creating Vercel Postgres database, these will be auto-populated
# Get from: https://vercel.com/titangsss-projects/detective-sigma/stores
DATABASE_URL="postgresql://user:password@host.postgres.vercel-storage.com/detective_sigma"
POSTGRES_PRISMA_URL="postgresql://user:password@host.postgres.vercel-storage.com/detective_sigma?pgbouncer=true&connect_timeout=15"
POSTGRES_URL_NON_POOLING="postgresql://user:password@host.postgres.vercel-storage.com/detective_sigma"

# ============= NEXTAUTH =============
# Production URL (after renaming Vercel project)
NEXTAUTH_URL="https://detective-sigma.vercel.app"

# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="your-secret-here-replace-with-generated-value"

# ============= GOOGLE OAUTH =============
# Get credentials from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# ============= MICROSOFT OAUTH (Azure AD / Entra ID) =============
# Get credentials from: https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps
# Create an App Registration, add Web redirect URI: https://your-domain.com/api/auth/callback/microsoft-entra-id
MICROSOFT_CLIENT_ID="your-microsoft-client-id"
MICROSOFT_CLIENT_SECRET="your-microsoft-client-secret"
MICROSOFT_TENANT_ID="common"  # Use "common" for any Microsoft account, or specific tenant ID for organization-only

# ============= APPLE OAUTH =============
# Get credentials from: https://developer.apple.com/account/resources/identifiers/list/serviceId
# Requires Apple Developer account ($99/year)
APPLE_CLIENT_ID="your-apple-service-id"
APPLE_CLIENT_SECRET="your-apple-client-secret"  # This is a JWT signed with your private key

# ============= WEBAUTHN / PASSKEYS (Biometrics) =============
# Relying Party ID - should match your domain (without protocol)
# For localhost development, use "localhost"
WEBAUTHN_RP_ID="localhost"

# ============= NODE ENVIRONMENT =============
NODE_ENV="development"

# ============= CASE GENERATOR MICROSERVICE =============
CASE_GENERATOR_URL="http://localhost:4000"

# ============= IMAGE GENERATION =============
# Backend options:
#   "comfyui" - ComfyUI (local or via Cloudflare Tunnel)
#   "automatic1111" - Stable Diffusion WebUI
#   "huggingface" - Hugging Face Inference API (FREE, cloud-based)
IMAGE_GEN_BACKEND="comfyui"

# URL for image generation backend:
#
# LOCAL DEVELOPMENT:
#   ComfyUI default: http://localhost:8188
#   Automatic1111 default: http://localhost:7860
#
# VERCEL PRODUCTION (using Cloudflare Tunnel - FREE):
#   1. Install cloudflared: winget install cloudflare.cloudflared
#   2. Run: start-comfyui-tunnel.bat (or: cloudflared tunnel --url http://localhost:8188)
#   3. Copy the tunnel URL (e.g., https://random-name.trycloudflare.com)
#   4. Set COMFYUI_REMOTE_URL in Vercel environment variables
#
# The app will use COMFYUI_REMOTE_URL if set, otherwise falls back to IMAGE_GEN_URL
IMAGE_GEN_URL="http://localhost:8188"

# Remote ComfyUI URL via Cloudflare Tunnel (for Vercel production)
# This is FREE - no account required, just run: cloudflared tunnel --url http://localhost:8188
# The tunnel URL changes each time, so update this when you restart the tunnel
COMFYUI_REMOTE_URL=""

# API Key:
# - For Hugging Face: Get free API key from https://huggingface.co/settings/tokens
# - For local backends: Usually not required
IMAGE_GEN_API_KEY=""

# Timeout in milliseconds (default: 120000 = 2 minutes)
# Remote tunnels may need longer timeout due to network latency
IMAGE_GEN_TIMEOUT="180000"

# ComfyUI Model Checkpoint name (as it appears in your Stability Matrix/ComfyUI models folder)
# Default: realisticVisionV60B1_v51HyperVAE.safetensors
#
# PHOTOREALISTIC MODELS (SD 1.5 - Fast, 512-768px native):
#   - realisticVisionV60B1_v51HyperVAE.safetensors (Realistic Vision V6.0)
#   - epicrealism_naturalSinRC1VAE.safetensors (epiCRealism)
#
# SDXL MODELS (Higher quality, 1024px native, needs 8GB+ VRAM):
#   - juggernautXL_v9Rundiffusion.safetensors (Juggernaut XL)
#   - realvisxlV50_v50Bakedvae.safetensors (RealVisXL V5.0)
#
# FLUX MODELS (Best text generation, needs 12GB+ VRAM):
#   - flux1-dev-fp8.safetensors (11GB, good for RTX 3090)
#   Download: https://civitai.com/models/618486/flux1
#   Also needs: t5xxl_fp8_e4m3fn.safetensors in models/clip/
#   And: ae.safetensors in models/vae/ (from https://civitai.com/models/636193)
#
# Find your exact filename in: Stability Matrix/Data/Models/StableDiffusion/
COMFYUI_MODEL_CHECKPOINT="realisticVisionV60B1_v51HyperVAE.safetensors"

# ============= EMAIL SERVICE (Resend) =============
# Get API key from: https://resend.com/api-keys
RESEND_API_KEY="your-resend-api-key"

# Sender email (must be verified in Resend)
# For testing, use Resend's test domain: onboarding@resend.dev
EMAIL_FROM="noreply@detective-sigma.com"

# ============= OPTIONAL (Future) =============
# GOOGLE_GEMINI_API_KEY="your-gemini-api-key"
